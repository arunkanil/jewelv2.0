(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Cvcy:function(e,t,a){"use strict";a.r(t),a.d(t,"BaseModule",function(){return Ce});var i=a("SVse"),o=a("s7LF"),n=a("T6vt"),r=a("2ZVE"),s=a("GS7A"),l=a("8Y7J");Object(s.g)({height:0,visibility:"hidden"}),Object(s.e)("400ms cubic-bezier(0.4,0.0,0.2,1)",Object(s.g)({height:"*",visibility:"visible"})),Object(s.g)({height:"*",visibility:"visible"}),Object(s.e)("400ms cubic-bezier(0.4,0.0,0.2,1)",Object(s.g)({height:0,visibility:"hidden"}));let b=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(t){return new(t||e)}}),e})();var c=a("FE24");const d=function(e,t){return{"pull-left":e,"float-left":t}},m=function(e,t){return{"pull-right":e,"float-right":t}},u=function(e,t){return{disabled:e,currentPage:t}};function g(e,t){if(1&e){const e=l.Sb();l.Rb(0,"li",11),l.Rb(1,"a",12),l.Yb("click",function(t){return l.pc(e),l.bc().selectPage(1,t)}),l.Nb(2,13),l.Qb(),l.Qb()}if(2&e){const e=l.bc(),t=l.nc(13);l.Db("disabled",e.noPrevious()||e.disabled),l.zb(2),l.gc("ngTemplateOutlet",e.customFirstTemplate||t)("ngTemplateOutletContext",l.kc(4,u,e.noPrevious()||e.disabled,e.page))}}function h(e,t){if(1&e){const e=l.Sb();l.Rb(0,"li",14),l.Rb(1,"a",12),l.Yb("click",function(t){l.pc(e);const a=l.bc();return a.selectPage(a.page-1,t)}),l.Nb(2,13),l.Qb(),l.Qb()}if(2&e){const e=l.bc(),t=l.nc(11);l.Db("disabled",e.noPrevious()||e.disabled),l.zb(2),l.gc("ngTemplateOutlet",e.customPreviousTemplate||t)("ngTemplateOutletContext",l.kc(4,u,e.noPrevious()||e.disabled,e.page))}}const p=function(e,t,a){return{disabled:e,$implicit:t,currentPage:a}};function f(e,t){if(1&e){const e=l.Sb();l.Rb(0,"li",15),l.Rb(1,"a",12),l.Yb("click",function(a){l.pc(e);const i=t.$implicit;return l.bc().selectPage(i.number,a)}),l.Nb(2,13),l.Qb(),l.Qb()}if(2&e){const e=t.$implicit,a=l.bc(),i=l.nc(7);l.Db("active",e.active)("disabled",a.disabled&&!e.active),l.zb(2),l.gc("ngTemplateOutlet",a.customPageTemplate||i)("ngTemplateOutletContext",l.lc(6,p,a.disabled,e,a.page))}}function R(e,t){if(1&e){const e=l.Sb();l.Rb(0,"li",16),l.Rb(1,"a",12),l.Yb("click",function(t){l.pc(e);const a=l.bc();return a.selectPage(a.page+1,t)}),l.Nb(2,13),l.Qb(),l.Qb()}if(2&e){const e=l.bc(),t=l.nc(9);l.Db("disabled",e.noNext()||e.disabled),l.zb(2),l.gc("ngTemplateOutlet",e.customNextTemplate||t)("ngTemplateOutletContext",l.kc(4,u,e.noNext()||e.disabled,e.page))}}function v(e,t){if(1&e){const e=l.Sb();l.Rb(0,"li",17),l.Rb(1,"a",12),l.Yb("click",function(t){l.pc(e);const a=l.bc();return a.selectPage(a.totalPages,t)}),l.Nb(2,13),l.Qb(),l.Qb()}if(2&e){const e=l.bc(),t=l.nc(15);l.Db("disabled",e.noNext()||e.disabled),l.zb(2),l.gc("ngTemplateOutlet",e.customLastTemplate||t)("ngTemplateOutletContext",l.kc(4,u,e.noNext()||e.disabled,e.page))}}function Q(e,t){1&e&&l.wc(0),2&e&&l.xc(t.$implicit.text)}function w(e,t){if(1&e&&l.wc(0),2&e){const e=l.bc();l.xc(e.getText("next"))}}function y(e,t){if(1&e&&l.wc(0),2&e){const e=l.bc();l.xc(e.getText("previous"))}}function C(e,t){if(1&e&&l.wc(0),2&e){const e=l.bc();l.xc(e.getText("first"))}}function x(e,t){if(1&e&&l.wc(0),2&e){const e=l.bc();l.xc(e.getText("last"))}}let P=(()=>{class e{constructor(){this.main={maxSize:void 0,itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",pageBtnClass:"",rotate:!0},this.pager={itemsPerPage:15,previousText:"\xab Previous",nextText:"Next \xbb",pageBtnClass:"",align:!0}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(l.Hb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const M={provide:o.h,useExisting:Object(l.T)(()=>N),multi:!0};let N=(()=>{class e{constructor(e,t,a){this.elementRef=e,this.changeDetection=a,this.numPages=new l.n,this.pageChanged=new l.n,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.inited=!1,this._page=1,this.elementRef=e,this.config||this.configureOptions(Object.assign({},t.main,t.pager))}get itemsPerPage(){return this._itemsPerPage}set itemsPerPage(e){this._itemsPerPage=e,this.totalPages=this.calculateTotalPages()}get totalItems(){return this._totalItems}set totalItems(e){this._totalItems=e,this.totalPages=this.calculateTotalPages()}get totalPages(){return this._totalPages}set totalPages(e){this._totalPages=e,this.numPages.emit(e),this.inited&&this.selectPage(this.page)}set page(e){const t=this._page;this._page=e>this.totalPages?this.totalPages:e||1,this.changeDetection.markForCheck(),t!==this._page&&void 0!==t&&this.pageChanged.emit({page:this._page,itemsPerPage:this.itemsPerPage})}get page(){return this._page}configureOptions(e){this.config=Object.assign({},e)}ngOnInit(){"undefined"!=typeof window&&(this.classMap=this.elementRef.nativeElement.getAttribute("class")||""),this.maxSize=void 0!==this.maxSize?this.maxSize:this.config.maxSize,this.rotate=void 0!==this.rotate?this.rotate:this.config.rotate,this.boundaryLinks=void 0!==this.boundaryLinks?this.boundaryLinks:this.config.boundaryLinks,this.directionLinks=void 0!==this.directionLinks?this.directionLinks:this.config.directionLinks,this.pageBtnClass=void 0!==this.pageBtnClass?this.pageBtnClass:this.config.pageBtnClass,this.itemsPerPage=void 0!==this.itemsPerPage?this.itemsPerPage:this.config.itemsPerPage,this.totalPages=this.calculateTotalPages(),this.pages=this.getPages(this.page,this.totalPages),this.inited=!0}writeValue(e){this.page=e,this.pages=this.getPages(this.page,this.totalPages)}getText(e){return this[`${e}Text`]||this.config[`${e}Text`]}noPrevious(){return 1===this.page}noNext(){return this.page===this.totalPages}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}selectPage(e,t){t&&t.preventDefault(),this.disabled||(t&&t.target&&t.target.blur(),this.writeValue(e),this.onChange(this.page))}makePage(e,t,a){return{text:t,number:e,active:a}}getPages(e,t){const a=[];let i=1,o=t;const n=void 0!==this.maxSize&&this.maxSize<t;n&&(this.rotate?(i=Math.max(e-Math.floor(this.maxSize/2),1),o=i+this.maxSize-1,o>t&&(o=t,i=o-this.maxSize+1)):(i=(Math.ceil(e/this.maxSize)-1)*this.maxSize+1,o=Math.min(i+this.maxSize-1,t)));for(let r=i;r<=o;r++){const t=this.makePage(r,r.toString(),r===e);a.push(t)}if(n&&!this.rotate){if(i>1){const e=this.makePage(i-1,"...",!1);a.unshift(e)}if(o<t){const e=this.makePage(o+1,"...",!1);a.push(e)}}return a}calculateTotalPages(){const e=this.itemsPerPage<1?1:Math.ceil(this.totalItems/this.itemsPerPage);return Math.max(e||0,1)}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(l.l),l.Lb(P),l.Lb(l.h))},e.\u0275cmp=l.Fb({type:e,selectors:[["pager"]],inputs:{itemsPerPage:"itemsPerPage",totalItems:"totalItems",maxSize:"maxSize",rotate:"rotate",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",pageBtnClass:"pageBtnClass",align:"align",firstText:"firstText",previousText:"previousText",nextText:"nextText",lastText:"lastText",disabled:"disabled"},outputs:{numPages:"numPages",pageChanged:"pageChanged"},features:[l.yb([M])],decls:7,vars:24,consts:[[1,"pager"],[3,"ngClass"],["href","",3,"click"]],template:function(e,t){1&e&&(l.Rb(0,"ul",0),l.Rb(1,"li",1),l.Rb(2,"a",2),l.Yb("click",function(e){return t.selectPage(t.page-1,e)}),l.wc(3),l.Qb(),l.Qb(),l.Rb(4,"li",1),l.Rb(5,"a",2),l.Yb("click",function(e){return t.selectPage(t.page+1,e)}),l.wc(6),l.Qb(),l.Qb(),l.Qb()),2&e&&(l.zb(1),l.Bb(t.pageBtnClass),l.Db("disabled",t.noPrevious())("previous",t.align),l.gc("ngClass",l.kc(18,d,t.align,t.align)),l.zb(2),l.xc(t.getText("previous")),l.zb(1),l.Bb(t.pageBtnClass),l.Db("disabled",t.noNext())("next",t.align),l.gc("ngClass",l.kc(21,m,t.align,t.align)),l.zb(2),l.xc(t.getText("next")))},directives:[i.i],encapsulation:2}),e})();const k={provide:o.h,useExisting:Object(l.T)(()=>z),multi:!0};let z=(()=>{class e{constructor(e,t,a){this.elementRef=e,this.changeDetection=a,this.numPages=new l.n,this.pageChanged=new l.n,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.inited=!1,this._page=1,this.elementRef=e,this.config||this.configureOptions(t.main)}get itemsPerPage(){return this._itemsPerPage}set itemsPerPage(e){this._itemsPerPage=e,this.totalPages=this.calculateTotalPages()}get totalItems(){return this._totalItems}set totalItems(e){this._totalItems=e,this.totalPages=this.calculateTotalPages()}get totalPages(){return this._totalPages}set totalPages(e){this._totalPages=e,this.numPages.emit(e),this.inited&&this.selectPage(this.page)}set page(e){const t=this._page;this._page=e>this.totalPages?this.totalPages:e||1,this.changeDetection.markForCheck(),t!==this._page&&void 0!==t&&this.pageChanged.emit({page:this._page,itemsPerPage:this.itemsPerPage})}get page(){return this._page}configureOptions(e){this.config=Object.assign({},e)}ngOnInit(){"undefined"!=typeof window&&(this.classMap=this.elementRef.nativeElement.getAttribute("class")||""),this.maxSize=void 0!==this.maxSize?this.maxSize:this.config.maxSize,this.rotate=void 0!==this.rotate?this.rotate:this.config.rotate,this.boundaryLinks=void 0!==this.boundaryLinks?this.boundaryLinks:this.config.boundaryLinks,this.directionLinks=void 0!==this.directionLinks?this.directionLinks:this.config.directionLinks,this.pageBtnClass=void 0!==this.pageBtnClass?this.pageBtnClass:this.config.pageBtnClass,this.itemsPerPage=void 0!==this.itemsPerPage?this.itemsPerPage:this.config.itemsPerPage,this.totalPages=this.calculateTotalPages(),this.pages=this.getPages(this.page,this.totalPages),this.inited=!0}writeValue(e){this.page=e,this.pages=this.getPages(this.page,this.totalPages)}getText(e){return this[`${e}Text`]||this.config[`${e}Text`]}noPrevious(){return 1===this.page}noNext(){return this.page===this.totalPages}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}selectPage(e,t){t&&t.preventDefault(),this.disabled||(t&&t.target&&t.target.blur(),this.writeValue(e),this.onChange(this.page))}makePage(e,t,a){return{text:t,number:e,active:a}}getPages(e,t){const a=[];let i=1,o=t;const n=void 0!==this.maxSize&&this.maxSize<t;n&&(this.rotate?(i=Math.max(e-Math.floor(this.maxSize/2),1),o=i+this.maxSize-1,o>t&&(o=t,i=o-this.maxSize+1)):(i=(Math.ceil(e/this.maxSize)-1)*this.maxSize+1,o=Math.min(i+this.maxSize-1,t)));for(let r=i;r<=o;r++){const t=this.makePage(r,r.toString(),r===e);a.push(t)}if(n&&!this.rotate){if(i>1){const e=this.makePage(i-1,"...",!1);a.unshift(e)}if(o<t){const e=this.makePage(o+1,"...",!1);a.push(e)}}return a}calculateTotalPages(){const e=this.itemsPerPage<1?1:Math.ceil(this.totalItems/this.itemsPerPage);return Math.max(e||0,1)}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(l.l),l.Lb(P),l.Lb(l.h))},e.\u0275cmp=l.Fb({type:e,selectors:[["pagination"]],inputs:{itemsPerPage:"itemsPerPage",totalItems:"totalItems",maxSize:"maxSize",rotate:"rotate",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",pageBtnClass:"pageBtnClass",align:"align",firstText:"firstText",previousText:"previousText",nextText:"nextText",lastText:"lastText",disabled:"disabled",customPageTemplate:"customPageTemplate",customNextTemplate:"customNextTemplate",customPreviousTemplate:"customPreviousTemplate",customFirstTemplate:"customFirstTemplate",customLastTemplate:"customLastTemplate"},outputs:{numPages:"numPages",pageChanged:"pageChanged"},features:[l.yb([k])],decls:16,vars:6,consts:[[1,"pagination",3,"ngClass"],["class","pagination-first page-item",3,"disabled",4,"ngIf"],["class","pagination-prev page-item",3,"disabled",4,"ngIf"],["class","pagination-page page-item",3,"active","disabled",4,"ngFor","ngForOf"],["class","pagination-next page-item",3,"disabled",4,"ngIf"],["class","pagination-last page-item",3,"disabled",4,"ngIf"],["defaultPageTemplate",""],["defaultNextTemplate",""],["defaultPreviousTemplate",""],["defaultFirstTemplate",""],["defaultLastTemplate",""],[1,"pagination-first","page-item"],["href","",1,"page-link",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"pagination-prev","page-item"],[1,"pagination-page","page-item"],[1,"pagination-next","page-item"],[1,"pagination-last","page-item"]],template:function(e,t){1&e&&(l.Rb(0,"ul",0),l.uc(1,g,3,7,"li",1),l.uc(2,h,3,7,"li",2),l.uc(3,f,3,10,"li",3),l.uc(4,R,3,7,"li",4),l.uc(5,v,3,7,"li",5),l.Qb(),l.uc(6,Q,1,1,"ng-template",null,6,l.vc),l.uc(8,w,1,1,"ng-template",null,7,l.vc),l.uc(10,y,1,1,"ng-template",null,8,l.vc),l.uc(12,C,1,1,"ng-template",null,9,l.vc),l.uc(14,x,1,1,"ng-template",null,10,l.vc)),2&e&&(l.gc("ngClass",t.classMap),l.zb(1),l.gc("ngIf",t.boundaryLinks),l.zb(1),l.gc("ngIf",t.directionLinks),l.zb(1),l.gc("ngForOf",t.pages),l.zb(1),l.gc("ngIf",t.directionLinks),l.zb(1),l.gc("ngIf",t.boundaryLinks))},directives:[i.i,i.k,i.j,i.o],encapsulation:2}),e})(),L=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})();var F=a("z/SZ"),T=(a("hpHm"),a("2uy1"));a("PqYM");let O=(()=>{class e{static forRoot(){return{ngModule:e,providers:[F.a,T.a]}}}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})(),_=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})();a("mrSG");let S=(()=>{class e{static forRoot(){return{ngModule:e,providers:[F.a,T.a]}}}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})();var A=a("iInd"),q=a("R7Hv"),D=a("7nfi"),I=a("YFAK"),E=a("LqlI");const Y=["myModal"];function j(e,t){if(1&e&&(l.Rb(0,"option",38),l.wc(1),l.Qb()),2&e){const e=t.$implicit;l.hc("value",e.id),l.zb(1),l.yc(" ",e.Name," ")}}function G(e,t){if(1&e&&(l.Rb(0,"option",38),l.wc(1),l.Qb()),2&e){const e=t.$implicit;l.hc("value",e.id),l.zb(1),l.yc(" ",e.Name," ")}}function B(e,t){if(1&e&&(l.Rb(0,"option",38),l.wc(1),l.Qb()),2&e){const e=t.$implicit;l.hc("value",e.id),l.zb(1),l.yc(" ",e.Name," ")}}function H(e,t){1&e&&l.Mb(0,"span",39)}let $=(()=>{class e{constructor(e,t,a){this.dataservice=e,this.router=t,this.fb=a,this.customerForm=this.fb.group({NameOfBride:["",o.r.required],NameOfFather:["",o.r.required],NameOfMother:["",o.r.required],MarriageDate:["",o.r.required],MarriageMonth:["",o.r.required],tele_caller_contact:["",o.r.required],HouseName:["",o.r.required],Landmark:["",o.r.required],locality:["",o.r.required]}),this.loading=!0,this.btnLoading=!1,this.orders={},this.columnDefs=[],this.rowData=[],this.agents=[],this.localities=[],this.columnDefs=[...D.c],this.Months=[...D.b],this.rowSelection="single"}ngOnInit(){this.getLists()}getLists(){this.loading=!0,this.dataservice.getCustomers().valueChanges.subscribe(e=>{console.log("getCustomers",e.data.customers),this.rowData=e.data.customers}),this.dataservice.getLocalities().valueChanges.subscribe(e=>{console.log("getLocalities",e.data.localities),this.localities=e.data.localities}),this.dataservice.getAgents().valueChanges.subscribe(e=>{console.log("getAgents",e.data.teleCallerContacts),this.agents=e.data.teleCallerContacts})}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi}onSelectionChanged(e){var t=this.gridApi.getSelectedRows();console.log(t),this.router.navigate(["/order/customer_details",t[0].id],{state:{data:t}})}FormSubmit(){let e={};console.log(this.customerForm.value),this.dataservice.Addcustomer(this.customerForm.value).subscribe(t=>{e=t.data,console.log("response",t),t.data.createCustomer?(alert("customer added successfully!"),this.getLists(),this.myModal.hide()):alert("Failed. Please check the fields!")})}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(q.a),l.Lb(A.c),l.Lb(o.c))},e.\u0275cmp=l.Fb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&l.zc(Y,1),2&e){let e;l.mc(e=l.Zb())&&(t.myModal=e.first)}},decls:74,vars:9,consts:[[1,"animated","fadeIn"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],["type","button","data-toggle","modal",1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"row"],[1,"col-12"],["id","myGrid","animateRows","true",1,"ag-theme-alpine",2,"width","100%","height","500px",3,"columnDefs","rowData","rowSelection","gridReady","selectionChanged"],["agGrid",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["myModal","bs-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","NameOfBride","name","NameOfBride","formControlName","NameOfBride","placeholder","Enter bride's name",1,"form-control"],["type","text","id","NameOfFather","name","NameOfFather","formControlName","NameOfFather","placeholder","Enter father's name",1,"form-control"],["type","text","id","NameOfMother","name","NameOfMother","formControlName","NameOfMother","placeholder","Enter mother's name",1,"form-control"],["for","email"],["type","date","id","MarriageDate","name","MarriageDate","formControlName","MarriageDate",1,"form-control"],["for","group"],["id","MarriageMonth","required","","ngModel","","name","MarriageMonth","formControlName","MarriageMonth",1,"form-control"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","tele_caller_contact","required","","ngModel","","name","tele_caller_contact","formControlName","tele_caller_contact",1,"form-control"],["type","text","id","HouseName","name","HouseName","formControlName","HouseName","placeholder","Enter House Name",1,"form-control"],["type","text","id","Landmark","name","Landmark","formControlName","Landmark","placeholder","Enter Landmark",1,"form-control"],["for","locality"],["id","locality","required","","ngModel","","name","locality","formControlName","locality",1,"form-control"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e){const e=l.Sb();l.Rb(0,"div",0),l.Rb(1,"div",1),l.Rb(2,"div",2),l.Rb(3,"h2"),l.wc(4,"Customers"),l.Qb(),l.Rb(5,"button",3),l.Yb("click",function(){return l.pc(e),l.nc(13).show()}),l.wc(6," New "),l.Qb(),l.Qb(),l.Rb(7,"div",4),l.Rb(8,"div",5),l.Rb(9,"div",6),l.Rb(10,"ag-grid-angular",7,8),l.Yb("gridReady",function(e){return t.onGridReady(e)})("selectionChanged",function(e){return t.onSelectionChanged(e)}),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(12,"div",9,10),l.Rb(14,"div",11),l.Rb(15,"div",12),l.Rb(16,"div",13),l.Rb(17,"h4",14),l.wc(18,"Add New Customer"),l.Qb(),l.Rb(19,"button",15),l.Yb("click",function(){return l.pc(e),l.nc(13).hide()}),l.Rb(20,"span",16),l.wc(21,"\xd7"),l.Qb(),l.Qb(),l.Qb(),l.Rb(22,"div",17),l.Rb(23,"form",18),l.Yb("ngSubmit",function(){return t.FormSubmit()}),l.Rb(24,"div",19),l.Rb(25,"label",20),l.wc(26,"Name of Bride"),l.Qb(),l.Mb(27,"input",21),l.Qb(),l.Rb(28,"div",19),l.Rb(29,"label",20),l.wc(30,"Name of Father"),l.Qb(),l.Mb(31,"input",22),l.Qb(),l.Rb(32,"div",19),l.Rb(33,"label",20),l.wc(34,"Name of Mother"),l.Qb(),l.Mb(35,"input",23),l.Qb(),l.Rb(36,"div",19),l.Rb(37,"label",24),l.wc(38,"Marriage date"),l.Qb(),l.Mb(39,"input",25),l.Qb(),l.Rb(40,"div",19),l.Rb(41,"label",26),l.wc(42,"Marriage month"),l.Qb(),l.Rb(43,"select",27),l.Rb(44,"option",28),l.wc(45,"Choose..."),l.Qb(),l.uc(46,j,2,2,"option",29),l.Qb(),l.Qb(),l.Rb(47,"div",19),l.Rb(48,"label",26),l.wc(49,"Agent"),l.Qb(),l.Rb(50,"select",30),l.Rb(51,"option",28),l.wc(52,"Choose..."),l.Qb(),l.uc(53,G,2,2,"option",29),l.Qb(),l.Qb(),l.Rb(54,"div",19),l.Rb(55,"label",20),l.wc(56,"House Name"),l.Qb(),l.Mb(57,"input",31),l.Qb(),l.Rb(58,"div",19),l.Rb(59,"label",20),l.wc(60,"Landmark"),l.Qb(),l.Mb(61,"input",32),l.Qb(),l.Rb(62,"div",19),l.Rb(63,"label",33),l.wc(64,"Name of locality"),l.Qb(),l.Rb(65,"select",34),l.Rb(66,"option",28),l.wc(67,"Choose..."),l.Qb(),l.uc(68,B,2,2,"option",29),l.Qb(),l.Qb(),l.Rb(69,"button",35),l.wc(70," Close "),l.Qb(),l.Rb(71,"button",36),l.uc(72,H,1,0,"span",37),l.wc(73," Save changes "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb()}2&e&&(l.zb(10),l.gc("columnDefs",t.columnDefs)("rowData",t.rowData)("rowSelection",t.rowSelection),l.zb(13),l.gc("formGroup",t.customerForm),l.zb(23),l.gc("ngForOf",t.Months),l.zb(7),l.gc("ngForOf",t.agents),l.zb(15),l.gc("ngForOf",t.localities),l.zb(3),l.gc("disabled",t.btnLoading||!t.customerForm.valid),l.zb(1),l.gc("ngIf",t.btnLoading))},directives:[I.a,E.a,o.t,o.j,o.e,o.b,o.i,o.d,o.q,o.p,o.m,o.s,i.j,i.k],encapsulation:2}),e})();function J(e,t){if(1&e&&(l.Rb(0,"div",5),l.Rb(1,"div",6),l.Rb(2,"div",3),l.Rb(3,"div",7),l.Rb(4,"div"),l.Rb(5,"h4"),l.wc(6),l.Qb(),l.Mb(7,"br"),l.wc(8," Pick up date : Jan 22 2020 "),l.Mb(9,"br"),l.wc(10," Pick up time : 4:30 pm "),l.Qb(),l.Rb(11,"div"),l.Rb(12,"div",8),l.Rb(13,"span",9),l.wc(14),l.Qb(),l.Mb(15,"br"),l.Rb(16,"span"),l.wc(17,"ORDER VALUE"),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb()),2&e){const e=t.$implicit;l.zb(6),l.xc(e.order_id),l.zb(8),l.xc(e.total_amount)}}let Z=(()=>{class e{constructor(e){this.dataservice=e,this.loading=!0,this.orders=[]}ngOnInit(){this.getOrders()}getOrders(){this.loading=!0,this.dataservice.getOrders().subscribe(e=>{this.orders=e.body,console.log("getOrders",this.orders),this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(q.a))},e.\u0275cmp=l.Fb({type:e,selectors:[["ng-component"]],decls:7,vars:1,consts:[[1,"animated","fadeIn"],[1,"card"],[1,"card-header"],[1,"card-body"],["class","row m-1",4,"ngFor","ngForOf"],[1,"row","m-1"],[1,"card",2,"width","100%"],[1,"row",2,"justify-content","space-between","display","flex"],[1,"price-displayer",2,"background-color","#4AD991"],[1,"price"]],template:function(e,t){1&e&&(l.Rb(0,"div",0),l.Rb(1,"div",1),l.Rb(2,"div",2),l.Rb(3,"h2"),l.wc(4," All Orders"),l.Qb(),l.Qb(),l.Rb(5,"div",3),l.uc(6,J,18,2,"div",4),l.Qb(),l.Qb(),l.Qb()),2&e&&(l.zb(6),l.gc("ngForOf",t.orders))},directives:[i.j],encapsulation:2}),e})();function V(){return'\n      <div>\n            <a>\n              <img src=\'assets/edit.svg\' (click)="onRowClicked()" style="width: 20px; cursor: pointer" alt="delete" />\n            </a>\n            <a>\n              <img src=\'assets/deleteIcon.svg\' style="width: 20px; cursor: pointer" alt="delete" />\n            </a>\n      </div>\n    '}const K=["myModal"];function U(e,t){if(1&e&&(l.Rb(0,"option",37),l.wc(1),l.Qb()),2&e){const e=t.$implicit;l.hc("value",e.id),l.zb(1),l.yc(" ",e.Name," ")}}function W(e,t){1&e&&l.Mb(0,"span",38)}let X=(()=>{class e{constructor(e,t,a){this.dataservice=e,this.router=t,this.fb=a,this.agentForm=this.fb.group({name:["",o.r.required],email:["",o.r.required],phone1:["",o.r.required],phone2:["",o.r.required],phone3:["",o.r.required],group:["",o.r.required]}),this.loading=!0,this.btnLoading=!1,this.orders={},this.columnDefs=[],this.rowData=[],this.groups=[],this.frameworkComponents={statusRenderer:V},this.columnDefs=[...D.a],this.rowSelection="single"}ngOnInit(){this.getLists()}getLists(){this.loading=!0,this.dataservice.getAgents().valueChanges.subscribe(e=>{console.log("getAgents",e.data.teleCallerContacts),this.rowData=e.data.teleCallerContacts}),this.dataservice.getGroups().valueChanges.subscribe(e=>{console.log("getGroups",e.data.groups),this.groups=e.data.groups})}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi}onSelectionChanged(e){var t=this.gridApi.getSelectedRows();console.log(t),this.router.navigate(["/order/agent_details",t[0].id],{state:{data:t}})}FormSubmit(){let e={};console.log(this.agentForm.value),this.dataservice.AddAgent(this.agentForm.value).subscribe(t=>{e=t.data,console.log("response",t),t.data.createTeleCallerContact?(alert("Agent added successfully!"),this.getLists(),this.myModal.hide()):alert("Failed. Please check the fields!")})}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(q.a),l.Lb(A.c),l.Lb(o.c))},e.\u0275cmp=l.Fb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&l.zc(K,1),2&e){let e;l.mc(e=l.Zb())&&(t.myModal=e.first)}},decls:56,vars:8,consts:[[1,"animated","fadeIn"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],["type","button","data-toggle","modal",1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"row"],[1,"col-12"],["id","myGrid","animateRows","true",1,"ag-theme-alpine",2,"width","100%","height","500px",3,"columnDefs","rowData","frameworkComponents","rowSelection","gridReady","selectionChanged"],["agGrid",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["myModal","bs-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","formControlName","name","placeholder","Enter agent name",1,"form-control"],["for","email"],["type","email","id","email","name","email","formControlName","email","placeholder","Enter agent email",1,"form-control"],["for","street"],["type","number","id","phone1","name","phone1","formControlName","phone1","placeholder","Enter Phone 1",1,"form-control"],["for","phone2"],["type","number","id","phone2","name","phone2","formControlName","phone2","placeholder","Enter Phone 2",1,"form-control"],["for","phone3"],["type","number","id","phone3","name","phone3","formControlName","phone3","placeholder","Enter Phone 3",1,"form-control"],["for","group"],["id","group","required","","ngModel","","name","group","formControlName","group",1,"form-control"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e){const e=l.Sb();l.Rb(0,"div",0),l.Rb(1,"div",1),l.Rb(2,"div",2),l.Rb(3,"h2"),l.wc(4,"Agents"),l.Qb(),l.Rb(5,"button",3),l.Yb("click",function(){return l.pc(e),l.nc(13).show()}),l.wc(6," New "),l.Qb(),l.Qb(),l.Rb(7,"div",4),l.Rb(8,"div",5),l.Rb(9,"div",6),l.Rb(10,"ag-grid-angular",7,8),l.Yb("gridReady",function(e){return t.onGridReady(e)})("selectionChanged",function(e){return t.onSelectionChanged(e)}),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(12,"div",9,10),l.Rb(14,"div",11),l.Rb(15,"div",12),l.Rb(16,"div",13),l.Rb(17,"h4",14),l.wc(18,"Add New Agent"),l.Qb(),l.Rb(19,"button",15),l.Yb("click",function(){return l.pc(e),l.nc(13).hide()}),l.Rb(20,"span",16),l.wc(21,"\xd7"),l.Qb(),l.Qb(),l.Qb(),l.Rb(22,"div",17),l.Rb(23,"form",18),l.Yb("ngSubmit",function(){return t.FormSubmit()}),l.Rb(24,"div",19),l.Rb(25,"label",20),l.wc(26,"Name"),l.Qb(),l.Mb(27,"input",21),l.Qb(),l.Rb(28,"div",19),l.Rb(29,"label",22),l.wc(30,"E-mail"),l.Qb(),l.Mb(31,"input",23),l.Qb(),l.Rb(32,"div",19),l.Rb(33,"label",24),l.wc(34,"Phone 1"),l.Qb(),l.Mb(35,"input",25),l.Qb(),l.Rb(36,"div",19),l.Rb(37,"label",26),l.wc(38,"Phone 2"),l.Qb(),l.Mb(39,"input",27),l.Qb(),l.Rb(40,"div",19),l.Rb(41,"label",28),l.wc(42,"Phone 3"),l.Qb(),l.Mb(43,"input",29),l.Qb(),l.Rb(44,"div",19),l.Rb(45,"label",30),l.wc(46,"Group"),l.Qb(),l.Rb(47,"select",31),l.Rb(48,"option",32),l.wc(49,"Choose..."),l.Qb(),l.uc(50,U,2,2,"option",33),l.Qb(),l.Qb(),l.Rb(51,"button",34),l.wc(52," Close "),l.Qb(),l.Rb(53,"button",35),l.uc(54,W,1,0,"span",36),l.wc(55," Save changes "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb()}2&e&&(l.zb(10),l.gc("columnDefs",t.columnDefs)("rowData",t.rowData)("frameworkComponents",t.frameworkComponents)("rowSelection",t.rowSelection),l.zb(13),l.gc("formGroup",t.agentForm),l.zb(27),l.gc("ngForOf",t.groups),l.zb(3),l.gc("disabled",t.btnLoading||!t.agentForm.valid),l.zb(1),l.gc("ngIf",t.btnLoading))},directives:[I.a,E.a,o.t,o.j,o.e,o.b,o.i,o.d,o.n,o.q,o.p,o.m,o.s,i.j,i.k],encapsulation:2}),e})();const ee=["myModal"],te=["customerModal"],ae=["deleteModal"],ie=["commentModal"];function oe(e,t){if(1&e&&(l.Rb(0,"div",9),l.Rb(1,"div",13),l.Rb(2,"h5",58),l.wc(3),l.Qb(),l.Rb(4,"p",59),l.wc(5),l.Qb(),l.Rb(6,"span",60),l.wc(7),l.Qb(),l.Qb(),l.Qb()),2&e){const e=t.$implicit;l.zb(3),l.xc(e.CallHistory.event_date_time),l.zb(2),l.xc(e.RemarksText),l.zb(2),l.xc(e.CallHistory.users_permissions_user.username)}}function ne(e,t){if(1&e&&(l.Rb(0,"option",61),l.wc(1),l.Qb()),2&e){const e=t.$implicit;l.hc("value",e.id),l.zb(1),l.yc(" ",e.Name," ")}}function re(e,t){1&e&&l.Mb(0,"span",62)}function se(e,t){1&e&&l.Mb(0,"span",62)}function le(e,t){if(1&e&&(l.Rb(0,"option",61),l.wc(1),l.Qb()),2&e){const e=t.$implicit;l.hc("value",e.id),l.zb(1),l.yc(" ",e.Name," ")}}function be(e,t){if(1&e&&(l.Rb(0,"option",61),l.wc(1),l.Qb()),2&e){const e=t.$implicit;l.hc("value",e.id),l.zb(1),l.yc(" ",e.Name," ")}}function ce(e,t){1&e&&l.Mb(0,"span",62)}let de=(()=>{class e{constructor(e,t,a,i){this.dataservice=e,this.activatedRouter=t,this.router=a,this.fb=i,this.loading=!0,this.details=[],this.btnLoading=!1,this.groups=[],this.localities=[],this.agentForm=this.fb.group({name:["",o.r.required],email:["",o.r.required],phone1:["",o.r.required],phone2:["",o.r.required],phone3:["",o.r.required],group:["",o.r.required]}),this.commentForm=this.fb.group({RemarksText:["",o.r.required],event_date_time:["",o.r.required]}),this.Months=[...D.b]}ngOnInit(){this.getLists(),this.activatedRouter.params.subscribe(e=>{this.id=e.id}),this.dataservice.getSingleAgent(this.id).valueChanges.subscribe(e=>{console.log("getSingleAgent",e.data.teleCallerContact),this.details=e.data.teleCallerContact,this.agentForm=this.fb.group({name:[this.details.Name,o.r.required],email:[this.details.Email,o.r.required],phone1:[this.details.Contact_Number_1,o.r.required],phone2:[this.details.Contact_Number_2,o.r.required],phone3:[this.details.Contact_Number_3,o.r.required],group:[this.details.group.Name,o.r.required]}),this.loading=!1}),this.customerForm=this.fb.group({NameOfBride:["",o.r.required],NameOfFather:["",o.r.required],NameOfMother:["",o.r.required],MarriageDate:["",o.r.required],MarriageMonth:["",o.r.required],tele_caller_contact:[this.id,o.r.required],HouseName:["",o.r.required],Landmark:["",o.r.required],locality:["",o.r.required]})}getLists(){this.loading=!0,this.dataservice.getGroups().valueChanges.subscribe(e=>{console.log("getGroups",e.data.groups),this.groups=e.data.groups}),this.dataservice.getLocalities().valueChanges.subscribe(e=>{console.log("getLocalities",e.data.localities),this.localities=e.data.localities})}FormSubmit(){let e={};console.log(this.agentForm.value),this.dataservice.EditAgent(this.details.id,this.agentForm.value).subscribe(t=>{e=t.data,console.log("response",t),t.data.updateTeleCallerContact?(alert("Agent edited successfully!"),this.myModal.hide()):alert("Failed. Please check the fields!")})}customerSubmit(){let e={};console.log(this.customerForm.value),this.dataservice.Addcustomer(this.customerForm.value).subscribe(t=>{e=t.data,console.log("response",t),t.data.createCustomer?(alert("customer added successfully!"),this.getLists(),this.customerModal.hide()):alert("Failed. Please check the fields!")})}CommentSubmit(){let e={};console.log(this.commentForm.value),this.dataservice.AddComment(this.details.id,this.commentForm.value).subscribe(t=>{e=t.data,console.log("response",t),t.data.updateTeleCallerContact?(alert("Comment added successfully!"),this.commentModal.hide()):alert("Failed. Please check the fields!")})}deleteAgent(){let e={};this.dataservice.DeleteAgent(this.id).subscribe(t=>{e=t.data,console.log("response",t),t.data.deleteTeleCallerContact?(alert("Agent deleted successfully!"),this.router.navigate(["/order/order_processing"]),this.deleteModal.hide()):alert("Failed. Please check again!")})}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(q.a),l.Lb(A.a),l.Lb(A.c),l.Lb(o.c))},e.\u0275cmp=l.Fb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&(l.zc(ee,1),l.zc(te,1),l.zc(ae,1),l.zc(ie,1)),2&e){let e;l.mc(e=l.Zb())&&(t.myModal=e.first),l.mc(e=l.Zb())&&(t.customerModal=e.first),l.mc(e=l.Zb())&&(t.deleteModal=e.first),l.mc(e=l.Zb())&&(t.commentModal=e.first)}},decls:192,vars:20,consts:[[1,"animated","fadeIn"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["deleteModal","bs-modal"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"modal-footer","justify-content-around"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],["type","button","data-toggle","modal",1,"btn","btn-primary",3,"click"],["type","button","data-toggle","modal",1,"btn","btn-danger",3,"click"],[1,"card-body"],[1,"row"],[1,"col"],[1,"table","table-striped"],[1,"badge","badge-warning"],["class","card",4,"ngFor","ngForOf"],["myModal","bs-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","formControlName","name","placeholder","Enter agent name",1,"form-control"],["for","email"],["type","email","id","email","name","email","formControlName","email","placeholder","Enter agent email",1,"form-control"],["for","street"],["type","number","id","phone1","name","phone1","formControlName","phone1","placeholder","Enter Phone 1",1,"form-control"],["for","phone2"],["type","number","id","phone2","name","phone2","formControlName","phone2","placeholder","Enter Phone 2",1,"form-control"],["for","phone3"],["type","number","id","phone3","name","phone3","formControlName","phone3","placeholder","Enter Phone 3",1,"form-control"],["for","group"],["id","group","required","","ngModel","","name","group","formControlName","group",1,"form-control"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["commentModal","bs-modal"],["maxlength","250","id","RemarksText","name","RemarksText","formControlName","RemarksText","placeholder","Enter remarks",1,"form-control"],["type","datetime-local","id","event_date_time","name","event_date_time","formControlName","event_date_time",1,"form-control"],["customerModal","bs-modal"],["type","text","id","NameOfBride","name","NameOfBride","formControlName","NameOfBride","placeholder","Enter bride's name",1,"form-control"],["type","text","id","NameOfFather","name","NameOfFather","formControlName","NameOfFather","placeholder","Enter father's name",1,"form-control"],["type","text","id","NameOfMother","name","NameOfMother","formControlName","NameOfMother","placeholder","Enter mother's name",1,"form-control"],["type","date","id","MarriageDate","name","MarriageDate","formControlName","MarriageDate",1,"form-control"],["id","MarriageMonth","required","","ngModel","","name","MarriageMonth","formControlName","MarriageMonth",1,"form-control"],["type","text","id","HouseName","name","HouseName","formControlName","HouseName","placeholder","Enter House Name",1,"form-control"],["type","text","id","Landmark","name","Landmark","formControlName","Landmark","placeholder","Enter Landmark",1,"form-control"],["for","locality"],["id","locality","required","","ngModel","","name","locality","formControlName","locality",1,"form-control"],[1,"card-title"],[1,"card-text"],[1,"badge","badge-primary"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e){const e=l.Sb();l.Rb(0,"div",0),l.Rb(1,"div",1,2),l.Rb(3,"div",3),l.Rb(4,"div",4),l.Rb(5,"div",5),l.wc(6," Do you want to delete this agent? "),l.Qb(),l.Rb(7,"div",6),l.Rb(8,"button",7),l.Yb("click",function(){return l.pc(e),l.nc(2).hide()}),l.wc(9," No! Cancel. "),l.Qb(),l.Rb(10,"button",8),l.Yb("click",function(){return t.deleteAgent()}),l.wc(11," Yes! Delete. "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(12,"div",9),l.Rb(13,"div",10),l.Rb(14,"h2"),l.wc(15,"Agent Details"),l.Qb(),l.Rb(16,"span"),l.Rb(17,"button",11),l.Yb("click",function(){return l.pc(e),l.nc(138).show()}),l.wc(18," New Customer "),l.Qb(),l.Rb(19,"button",11),l.Yb("click",function(){return l.pc(e),l.nc(69).show()}),l.wc(20," Edit "),l.Qb(),l.Rb(21,"button",12),l.Yb("click",function(){return l.pc(e),l.nc(2).show()}),l.wc(22," Delete "),l.Qb(),l.Qb(),l.Qb(),l.Rb(23,"div",13),l.Rb(24,"div",14),l.Rb(25,"div",15),l.Rb(26,"table",16),l.Rb(27,"tbody"),l.Rb(28,"tr"),l.Rb(29,"td"),l.wc(30,"ID"),l.Qb(),l.Rb(31,"td"),l.wc(32),l.Qb(),l.Qb(),l.Rb(33,"tr"),l.Rb(34,"td"),l.wc(35,"Name"),l.Qb(),l.Rb(36,"td"),l.wc(37),l.Qb(),l.Qb(),l.Rb(38,"tr"),l.Rb(39,"td"),l.wc(40,"Contact 1"),l.Qb(),l.Rb(41,"td"),l.wc(42),l.Qb(),l.Qb(),l.Rb(43,"tr"),l.Rb(44,"td"),l.wc(45,"Contact 2"),l.Qb(),l.Rb(46,"td"),l.wc(47),l.Qb(),l.Qb(),l.Rb(48,"tr"),l.Rb(49,"td"),l.wc(50,"Contact 3"),l.Qb(),l.Rb(51,"td"),l.wc(52),l.Qb(),l.Qb(),l.Rb(53,"tr"),l.Rb(54,"td"),l.wc(55,"Email"),l.Qb(),l.Rb(56,"td"),l.wc(57),l.Qb(),l.Qb(),l.Rb(58,"tr"),l.Rb(59,"td"),l.wc(60,"Group"),l.Qb(),l.Rb(61,"td"),l.Rb(62,"span",17),l.wc(63),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(64,"div",15),l.uc(65,oe,8,3,"div",18),l.Rb(66,"button",11),l.Yb("click",function(){return l.pc(e),l.nc(113).show()}),l.wc(67," Add Comment "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(68,"div",1,19),l.Rb(70,"div",20),l.Rb(71,"div",4),l.Rb(72,"div",21),l.Rb(73,"h4",22),l.wc(74,"Edit Agent"),l.Qb(),l.Rb(75,"button",23),l.Yb("click",function(){return l.pc(e),l.nc(69).hide()}),l.Rb(76,"span",24),l.wc(77,"\xd7"),l.Qb(),l.Qb(),l.Qb(),l.Rb(78,"div",25),l.Rb(79,"form",26),l.Yb("ngSubmit",function(){return t.FormSubmit()}),l.Rb(80,"div",27),l.Rb(81,"label",28),l.wc(82,"Name"),l.Qb(),l.Mb(83,"input",29),l.Qb(),l.Rb(84,"div",27),l.Rb(85,"label",30),l.wc(86,"E-mail"),l.Qb(),l.Mb(87,"input",31),l.Qb(),l.Rb(88,"div",27),l.Rb(89,"label",32),l.wc(90,"Phone 1"),l.Qb(),l.Mb(91,"input",33),l.Qb(),l.Rb(92,"div",27),l.Rb(93,"label",34),l.wc(94,"Phone 2"),l.Qb(),l.Mb(95,"input",35),l.Qb(),l.Rb(96,"div",27),l.Rb(97,"label",36),l.wc(98,"Phone 3"),l.Qb(),l.Mb(99,"input",37),l.Qb(),l.Rb(100,"div",27),l.Rb(101,"label",38),l.wc(102,"Group"),l.Qb(),l.Rb(103,"select",39),l.Rb(104,"option",40),l.wc(105,"Choose..."),l.Qb(),l.uc(106,ne,2,2,"option",41),l.Qb(),l.Qb(),l.Rb(107,"button",42),l.wc(108," Close "),l.Qb(),l.Rb(109,"button",43),l.uc(110,re,1,0,"span",44),l.wc(111," Save changes "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(112,"div",1,45),l.Rb(114,"div",20),l.Rb(115,"div",4),l.Rb(116,"div",21),l.Rb(117,"h4",22),l.wc(118,"Add Comment"),l.Qb(),l.Rb(119,"button",23),l.Yb("click",function(){return l.pc(e),l.nc(113).hide()}),l.Rb(120,"span",24),l.wc(121,"\xd7"),l.Qb(),l.Qb(),l.Qb(),l.Rb(122,"div",25),l.Rb(123,"form",26),l.Yb("ngSubmit",function(){return t.CommentSubmit()}),l.Rb(124,"div",27),l.Rb(125,"label",28),l.wc(126,"Remarks"),l.Qb(),l.Mb(127,"textarea",46),l.Qb(),l.Rb(128,"div",27),l.Rb(129,"label",30),l.wc(130,"Date"),l.Qb(),l.Mb(131,"input",47),l.Qb(),l.Rb(132,"button",42),l.wc(133," Close "),l.Qb(),l.Rb(134,"button",43),l.uc(135,se,1,0,"span",44),l.wc(136," Save changes "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(137,"div",1,48),l.Rb(139,"div",20),l.Rb(140,"div",4),l.Rb(141,"div",21),l.Rb(142,"h4",22),l.wc(143,"Add New Customer"),l.Qb(),l.Rb(144,"button",23),l.Yb("click",function(){return l.pc(e),l.nc(138).hide()}),l.Rb(145,"span",24),l.wc(146,"\xd7"),l.Qb(),l.Qb(),l.Qb(),l.Rb(147,"div",25),l.Rb(148,"form",26),l.Yb("ngSubmit",function(){return t.customerSubmit()}),l.Rb(149,"div",27),l.Rb(150,"label",28),l.wc(151,"Name of Bride"),l.Qb(),l.Mb(152,"input",49),l.Qb(),l.Rb(153,"div",27),l.Rb(154,"label",28),l.wc(155,"Name of Father"),l.Qb(),l.Mb(156,"input",50),l.Qb(),l.Rb(157,"div",27),l.Rb(158,"label",28),l.wc(159,"Name of Mother"),l.Qb(),l.Mb(160,"input",51),l.Qb(),l.Rb(161,"div",27),l.Rb(162,"label",30),l.wc(163,"Marriage date"),l.Qb(),l.Mb(164,"input",52),l.Qb(),l.Rb(165,"div",27),l.Rb(166,"label",38),l.wc(167,"Marriage month"),l.Qb(),l.Rb(168,"select",53),l.Rb(169,"option",40),l.wc(170,"Choose..."),l.Qb(),l.uc(171,le,2,2,"option",41),l.Qb(),l.Qb(),l.Rb(172,"div",27),l.Rb(173,"label",28),l.wc(174,"House Name"),l.Qb(),l.Mb(175,"input",54),l.Qb(),l.Rb(176,"div",27),l.Rb(177,"label",28),l.wc(178,"Landmark"),l.Qb(),l.Mb(179,"input",55),l.Qb(),l.Rb(180,"div",27),l.Rb(181,"label",56),l.wc(182,"Name of locality"),l.Qb(),l.Rb(183,"select",57),l.Rb(184,"option",40),l.wc(185,"Choose..."),l.Qb(),l.uc(186,be,2,2,"option",41),l.Qb(),l.Qb(),l.Rb(187,"button",42),l.wc(188," Close "),l.Qb(),l.Rb(189,"button",43),l.uc(190,ce,1,0,"span",44),l.wc(191," Save changes "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb()}2&e&&(l.zb(32),l.xc(t.details.id),l.zb(5),l.xc(t.details.Name),l.zb(5),l.xc(t.details.Contact_Number_1),l.zb(5),l.xc(t.details.Contact_Number_2),l.zb(5),l.xc(t.details.Contact_Number_3),l.zb(5),l.xc(t.details.Email),l.zb(6),l.xc(null==t.details.group?null:t.details.group.Name),l.zb(2),l.gc("ngForOf",t.details.telecaller_remarks),l.zb(14),l.gc("formGroup",t.agentForm),l.zb(27),l.gc("ngForOf",t.groups),l.zb(3),l.gc("disabled",t.btnLoading||!t.agentForm.valid),l.zb(1),l.gc("ngIf",t.btnLoading),l.zb(13),l.gc("formGroup",t.commentForm),l.zb(11),l.gc("disabled",t.btnLoading||!t.commentForm.valid),l.zb(1),l.gc("ngIf",t.btnLoading),l.zb(13),l.gc("formGroup",t.customerForm),l.zb(23),l.gc("ngForOf",t.Months),l.zb(15),l.gc("ngForOf",t.localities),l.zb(3),l.gc("disabled",t.btnLoading||!t.customerForm.valid),l.zb(1),l.gc("ngIf",t.btnLoading))},directives:[E.a,i.j,o.t,o.j,o.e,o.b,o.i,o.d,o.n,o.q,o.p,o.m,o.s,i.k,o.g],encapsulation:2}),e})();const me=["myModal"],ue=["deleteModal"],ge=["commentModal"];function he(e,t){if(1&e&&(l.Rb(0,"div",9),l.Rb(1,"div",11),l.Rb(2,"h5",47),l.wc(3),l.Qb(),l.Rb(4,"p",48),l.wc(5),l.Qb(),l.Rb(6,"span",49),l.wc(7),l.Qb(),l.Qb(),l.Qb()),2&e){const e=t.$implicit;l.zb(3),l.xc(e.CallHistory.event_date_time),l.zb(2),l.xc(e.RemarksText),l.zb(2),l.xc(e.CallHistory.users_permissions_user.username)}}function pe(e,t){if(1&e&&(l.Rb(0,"option",50),l.wc(1),l.Qb()),2&e){const e=t.$implicit;l.hc("value",e.id),l.zb(1),l.yc(" ",e.Name," ")}}function fe(e,t){1&e&&l.Mb(0,"span",51)}function Re(e,t){1&e&&l.Mb(0,"span",51)}let ve=(()=>{class e{constructor(e,t,a,i){this.dataservice=e,this.activatedRouter=t,this.router=a,this.fb=i,this.loading=!0,this.details=[],this.btnLoading=!1,this.groups=[],this.agentForm=this.fb.group({name:["",o.r.required],email:["",o.r.required],phone1:["",o.r.required],phone2:["",o.r.required],phone3:["",o.r.required],group:["",o.r.required]}),this.commentForm=this.fb.group({RemarksText:["",o.r.required],event_date_time:["",o.r.required]})}ngOnInit(){this.getLists(),this.activatedRouter.params.subscribe(e=>{this.id=e.id}),this.dataservice.getSingleCustomer(this.id).valueChanges.subscribe(e=>{console.log("getSingleCustomer",e.data.customer),this.details=e.data.customer,this.agentForm=this.fb.group({name:[this.details.Name,o.r.required],email:[this.details.Email,o.r.required],phone1:[this.details.Contact_Number_1,o.r.required],phone2:[this.details.Contact_Number_2,o.r.required],phone3:[this.details.Contact_Number_3,o.r.required],group:[this.details.group.Name,o.r.required]}),this.loading=!1})}getLists(){this.loading=!0,this.dataservice.getGroups().valueChanges.subscribe(e=>{console.log("getGroups",e.data.groups),this.groups=e.data.groups})}FormSubmit(){let e={};console.log(this.agentForm.value),this.dataservice.EditAgent(this.details.id,this.agentForm.value).subscribe(t=>{e=t.data,console.log("response",t),t.data.updateTeleCallerContact?(alert("Agent edited successfully!"),this.myModal.hide()):alert("Failed. Please check the fields!")})}CommentSubmit(){let e={};console.log(this.commentForm.value),this.dataservice.AddCustomerComment(this.details.id,this.commentForm.value).subscribe(t=>{e=t.data,console.log("response",t),t.data.updateCustomer?(alert("Comment added successfully!"),this.commentModal.hide()):alert("Failed. Please check the fields!")})}deleteAgent(){let e={};this.dataservice.DeleteAgent(this.id).subscribe(t=>{e=t.data,console.log("response",t),t.data.deleteTeleCallerContact?(alert("Agent deleted successfully!"),this.router.navigate(["/order/order_processing"]),this.deleteModal.hide()):alert("Failed. Please check again!")})}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(q.a),l.Lb(A.a),l.Lb(A.c),l.Lb(o.c))},e.\u0275cmp=l.Fb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&(l.zc(me,1),l.zc(ue,1),l.zc(ge,1)),2&e){let e;l.mc(e=l.Zb())&&(t.myModal=e.first),l.mc(e=l.Zb())&&(t.deleteModal=e.first),l.mc(e=l.Zb())&&(t.commentModal=e.first)}},decls:146,vars:18,consts:[[1,"animated","fadeIn"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["deleteModal","bs-modal"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"modal-footer","justify-content-around"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],[1,"card-body"],[1,"row"],[1,"col"],[1,"table","table-striped"],[1,"badge","badge-warning"],["class","card",4,"ngFor","ngForOf"],["type","button","data-toggle","modal",1,"btn","btn-primary",3,"click"],["myModal","bs-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","formControlName","name","placeholder","Enter agent name",1,"form-control"],["for","email"],["type","email","id","email","name","email","formControlName","email","placeholder","Enter agent email",1,"form-control"],["for","street"],["type","number","id","phone1","name","phone1","formControlName","phone1","placeholder","Enter Phone 1",1,"form-control"],["for","phone2"],["type","number","id","phone2","name","phone2","formControlName","phone2","placeholder","Enter Phone 2",1,"form-control"],["for","phone3"],["type","number","id","phone3","name","phone3","formControlName","phone3","placeholder","Enter Phone 3",1,"form-control"],["for","group"],["id","group","required","","ngModel","","name","group","formControlName","group",1,"form-control"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["commentModal","bs-modal"],["maxlength","250","id","RemarksText","name","RemarksText","formControlName","RemarksText","placeholder","Enter remarks",1,"form-control"],["type","datetime-local","id","event_date_time","name","event_date_time","formControlName","event_date_time",1,"form-control"],[1,"card-title"],[1,"card-text"],[1,"badge","badge-primary"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e){const e=l.Sb();l.Rb(0,"div",0),l.Rb(1,"div",1,2),l.Rb(3,"div",3),l.Rb(4,"div",4),l.Rb(5,"div",5),l.wc(6," Do you want to delete this agent? "),l.Qb(),l.Rb(7,"div",6),l.Rb(8,"button",7),l.Yb("click",function(){return l.pc(e),l.nc(2).hide()}),l.wc(9," No! Cancel. "),l.Qb(),l.Rb(10,"button",8),l.Yb("click",function(){return t.deleteAgent()}),l.wc(11," Yes! Delete. "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(12,"div",9),l.Rb(13,"div",10),l.Rb(14,"h2"),l.wc(15,"Customer Details"),l.Qb(),l.Mb(16,"span"),l.Qb(),l.Rb(17,"div",11),l.Rb(18,"div",12),l.Rb(19,"div",13),l.Rb(20,"table",14),l.Rb(21,"tbody"),l.Rb(22,"tr"),l.Rb(23,"td"),l.wc(24,"ID"),l.Qb(),l.Rb(25,"td"),l.wc(26),l.Qb(),l.Qb(),l.Rb(27,"tr"),l.Rb(28,"td"),l.wc(29,"Name Of Father"),l.Qb(),l.Rb(30,"td"),l.wc(31),l.Qb(),l.Qb(),l.Rb(32,"tr"),l.Rb(33,"td"),l.wc(34,"Name Of Father"),l.Qb(),l.Rb(35,"td"),l.wc(36),l.Qb(),l.Qb(),l.Rb(37,"tr"),l.Rb(38,"td"),l.wc(39,"Name Of Mother"),l.Qb(),l.Rb(40,"td"),l.wc(41),l.Qb(),l.Qb(),l.Rb(42,"tr"),l.Rb(43,"td"),l.wc(44,"Marriage Date"),l.Qb(),l.Rb(45,"td"),l.wc(46),l.Qb(),l.Qb(),l.Rb(47,"tr"),l.Rb(48,"td"),l.wc(49,"Marriage Month"),l.Qb(),l.Rb(50,"td"),l.wc(51),l.Qb(),l.Qb(),l.Rb(52,"tr"),l.Rb(53,"td"),l.wc(54,"Agent"),l.Qb(),l.Rb(55,"td"),l.Rb(56,"span",15),l.wc(57),l.Qb(),l.Qb(),l.Qb(),l.Rb(58,"tr"),l.Rb(59,"td"),l.wc(60,"House Name"),l.Qb(),l.Rb(61,"td"),l.wc(62),l.Qb(),l.Qb(),l.Rb(63,"tr"),l.Rb(64,"td"),l.wc(65,"Landmark"),l.Qb(),l.Rb(66,"td"),l.wc(67),l.Qb(),l.Qb(),l.Rb(68,"tr"),l.Rb(69,"td"),l.wc(70,"Locality"),l.Qb(),l.Rb(71,"td"),l.wc(72),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(73,"div",13),l.uc(74,he,8,3,"div",16),l.Rb(75,"button",17),l.Yb("click",function(){return l.pc(e),l.nc(122).show()}),l.wc(76," Add Comment "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(77,"div",1,18),l.Rb(79,"div",19),l.Rb(80,"div",4),l.Rb(81,"div",20),l.Rb(82,"h4",21),l.wc(83,"Edit Agent"),l.Qb(),l.Rb(84,"button",22),l.Yb("click",function(){return l.pc(e),l.nc(78).hide()}),l.Rb(85,"span",23),l.wc(86,"\xd7"),l.Qb(),l.Qb(),l.Qb(),l.Rb(87,"div",24),l.Rb(88,"form",25),l.Yb("ngSubmit",function(){return t.FormSubmit()}),l.Rb(89,"div",26),l.Rb(90,"label",27),l.wc(91,"Name"),l.Qb(),l.Mb(92,"input",28),l.Qb(),l.Rb(93,"div",26),l.Rb(94,"label",29),l.wc(95,"E-mail"),l.Qb(),l.Mb(96,"input",30),l.Qb(),l.Rb(97,"div",26),l.Rb(98,"label",31),l.wc(99,"Phone 1"),l.Qb(),l.Mb(100,"input",32),l.Qb(),l.Rb(101,"div",26),l.Rb(102,"label",33),l.wc(103,"Phone 2"),l.Qb(),l.Mb(104,"input",34),l.Qb(),l.Rb(105,"div",26),l.Rb(106,"label",35),l.wc(107,"Phone 3"),l.Qb(),l.Mb(108,"input",36),l.Qb(),l.Rb(109,"div",26),l.Rb(110,"label",37),l.wc(111,"Group"),l.Qb(),l.Rb(112,"select",38),l.Rb(113,"option",39),l.wc(114,"Choose..."),l.Qb(),l.uc(115,pe,2,2,"option",40),l.Qb(),l.Qb(),l.Rb(116,"button",41),l.wc(117," Close "),l.Qb(),l.Rb(118,"button",42),l.uc(119,fe,1,0,"span",43),l.wc(120," Save changes "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(121,"div",1,44),l.Rb(123,"div",19),l.Rb(124,"div",4),l.Rb(125,"div",20),l.Rb(126,"h4",21),l.wc(127,"Add Comment"),l.Qb(),l.Rb(128,"button",22),l.Yb("click",function(){return l.pc(e),l.nc(122).hide()}),l.Rb(129,"span",23),l.wc(130,"\xd7"),l.Qb(),l.Qb(),l.Qb(),l.Rb(131,"div",24),l.Rb(132,"form",25),l.Yb("ngSubmit",function(){return t.CommentSubmit()}),l.Rb(133,"div",26),l.Rb(134,"label",27),l.wc(135,"Remarks"),l.Qb(),l.Mb(136,"textarea",45),l.Qb(),l.Rb(137,"div",26),l.Rb(138,"label",29),l.wc(139,"Date"),l.Qb(),l.Mb(140,"input",46),l.Qb(),l.Rb(141,"button",41),l.wc(142," Close "),l.Qb(),l.Rb(143,"button",42),l.uc(144,Re,1,0,"span",43),l.wc(145," Save changes "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb()}2&e&&(l.zb(26),l.xc(null==t.details?null:t.details.id),l.zb(5),l.xc(null==t.details?null:t.details.NameOfBride),l.zb(5),l.xc(null==t.details?null:t.details.NameOfFather),l.zb(5),l.xc(null==t.details?null:t.details.NameOfMother),l.zb(5),l.xc(null==t.details?null:t.details.MarriageDate),l.zb(5),l.xc(null==t.details?null:t.details.MarriageMonth),l.zb(6),l.xc(null==t.details.tele_caller_contact?null:t.details.tele_caller_contact.Name),l.zb(5),l.xc(null==t.details.Address?null:t.details.Address.HouseName),l.zb(5),l.xc(null==t.details.Address?null:t.details.Address.Landmark),l.zb(5),l.xc(null==t.details.Address||null==t.details.Address.locality?null:t.details.Address.locality.Name),l.zb(2),l.gc("ngForOf",t.details.TelecallerRemarks),l.zb(14),l.gc("formGroup",t.agentForm),l.zb(27),l.gc("ngForOf",t.groups),l.zb(3),l.gc("disabled",t.btnLoading||!t.agentForm.valid),l.zb(1),l.gc("ngIf",t.btnLoading),l.zb(13),l.gc("formGroup",t.commentForm),l.zb(11),l.gc("disabled",t.btnLoading||!t.commentForm.valid),l.zb(1),l.gc("ngIf",t.btnLoading))},directives:[E.a,i.j,o.t,o.j,o.e,o.b,o.i,o.d,o.n,o.q,o.p,o.m,o.s,i.k,o.g],encapsulation:2}),e})();var Qe=a("nl+3");const we=[{path:"",children:[{path:"",redirectTo:"cards"},{path:"ready_for_delivery",canActivate:[Qe.a],component:$,data:{roles:"TELE_CALLER",title:"Customers"}},{path:"order_processing",canActivate:[Qe.a],component:X,data:{roles:"TELE_CALLER",title:"Agents"}},{path:"all_orders",component:Z,data:{title:"All Orders"}},{path:"agent_details/:id",component:de,data:{title:"Agent Details"}},{path:"customer_details/:id",component:ve,data:{title:"Customer Details"}}]}];let ye=(()=>{class e{}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(t){return new(t||e)},imports:[[A.g.forChild(we)],A.g]}),e})(),Ce=(()=>{class e{}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(t){return new(t||e)},imports:[[i.c,I.b.withComponents([]),o.f,o.o,ye,c.c.forRoot(),r.a,n.a,b.forRoot(),L.forRoot(),O.forRoot(),_.forRoot(),S.forRoot(),E.b.forRoot()]]}),e})()}}]);